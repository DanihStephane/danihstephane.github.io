const track=document.querySelector(".track"),carousel=document.querySelector(".carousel"),left=document.querySelector(".left"),right=document.querySelector(".right");let babaWidth=document.querySelector(".baba").offsetWidth,carouselWidth=carousel.offsetWidth,index=0,sumOfRight=0,sumOfLeft=0,initialPosition=null,moving=!1,transform=0,lastPageX=0,transformValue=0;right.addEventListener("click",(function(){track.classList.add("smooth-transition"),index++,left.classList.add("show"),sumOfRight+=carouselWidth,sumOfRight+carouselWidth>=track.offsetWidth?(track.style.transform="translate(0px)",sumOfRight=0,index=0):track.style.transform=`translateX(-${sumOfRight}px)`,track.offsetWidth-index*carouselWidth<carouselWidth&&right.classList.add("lock")})),left.addEventListener("click",(function(){track.classList.add("smooth-transition"),sumOfLeft=sumOfRight-carouselWidth,sumOfLeft<0?(sumOfRight=track.offsetWidth-carouselWidth,track.style.transform=`translateX(-${sumOfRight}px)`,index=Math.floor(track.offsetWidth/carouselWidth)-1):(track.style.transform=`translateX(-${sumOfLeft}px)`,sumOfRight-=carouselWidth,index--),right.classList.remove("lock"),0===index&&left.classList.remove("show"),stopAutoScroll()}));const gestureStart=t=>{initialPosition=t.pageX,moving=!0;const e=window.getComputedStyle(track).getPropertyValue("transform");"none"!==e&&(transform=parseInt(e.split(",")[4].trim()))},gestureMove=t=>{if(track.classList.remove("smooth-transition"),moving){const e=t.pageX-initialPosition;if(t.pageX-lastPageX>0){if(transformValue>0)return}else if(Math.abs(transformValue)>track.offsetWidth-carousel.offsetWidth)return;transformValue=parseInt(transform)+e,track.style.transform=`translateX(${transformValue}px)`}lastPageX=t.pageX},gestureEnd=t=>{moving=!1};let autoScrollInterval;window.PointerEvent?(carousel.addEventListener("pointerdown",gestureStart),carousel.addEventListener("pointermove",gestureMove),carousel.addEventListener("pointerup",gestureEnd)):(carousel.addEventListener("touchdown",gestureStart),carousel.addEventListener("touchmove",gestureMove),carousel.addEventListener("touchup",gestureEnd),carousel.addEventListener("mousedown",gestureStart),carousel.addEventListener("mousemove",gestureMove),carousel.addEventListener("mouseup",gestureEnd));const autoScrollNext=()=>{autoScrollInterval=setInterval((()=>{right.click()}),2e3)},stopAutoScroll=()=>{clearInterval(autoScrollInterval)};autoScrollInterval=setInterval((()=>{right.click()}),2e3);