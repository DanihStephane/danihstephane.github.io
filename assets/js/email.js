const messagesPopup={success:{fr:{title:" Confirmation d'envoi du formulaire",message:"Je vous remercie d'avoir soumis votre formulaire. \n Votre demande a été reçue avec succès, et je m'engage à vous fournir une réponse dans les plus brefs délais. \n Si vous avez des questions supplémentaires, n'hésitez pas à me contacter."},en:{title:"Form Submission Confirmation",message:"Thank you for submitting your form. \n Your request has been successfully received, and I am committed to providing you with a response as soon as possible. \n If you have any additional questions, please feel free to contact me."},de:{title:"Bestätigung des Formularversands",message:"Vielen Dank für die Einreichung Ihres Formulars. Ihre Anfrage wurde erfolgreich erhalten, und ich verpflichtete mich, Ihnen so schnell wie möglich eine Antwort zu geben. \n Wenn Sie weitere Fragen haben, zögern Sie bitte nicht, mich zu kontaktieren."},mg:{title:"Fanamafisana ny fandefasana ny taratasy",message:"Misaotra anao tamin'ny fandefasana ny taratasinao. \n Nahazoana tsara ny fangatahanao, ary manolo-tena aho hanome valiny anao haingana araka izay azo atao.\n  Raha manana fanontaniana fanampiny ianao, aza misalasala mifandray amiko."}},error:{fr:{title:"Erreur lors de l'envoi du formulaire",message:"Je regrette de vous informer qu'une erreur est survenue lors de l'envoi de votre formulaire.\n  Je vous invite à réessayer votre soumission. \n Si le problème persiste, vous pouvez me contacter directement par e-mail \n à l'adresse danih.rakotoarison@gmail.com . Je suis là pour vous aider."},en:{title:"Error Sending the Form",message:"I regret to inform you that an error occurred while sending your form. \n I invite you to try your submission again. \n If the problem persists, you can contact me directly via email \n at danih.rakotoarison@gmail.com. I am here to help you."},de:{title:"Fehler beim Versenden des Formulars",message:"Es tut mir leid, Ihnen mitteilen zu müssen, dass ein Fehler beim Versenden Ihres Formulars aufgetreten ist.\n  Ich lade Sie ein, Ihre Einreichung erneut zu versuchen.\n  Wenn das Problem weiterhin besteht, können Sie mich direkt per E-Mail \n unter danih.rakotoarison@gmail.com kontaktieren. Ich bin hier, um Ihnen zu helfen."},mg:{title:"Hadisoana tamin'ny fandefasana ny taratasy",message:"Miala tsiny aho milaza anao fa nisy hadisoana nitranga tamin'ny fandefasana ny taratasinao.\n  Manasa anao aho hanandrana indray ny fandefasana. \n Raha mitohy ny olana, azonao atao ny mifandray amiko mivantana amin'ny alalan'ny mailaka \n any danih.rakotoarison@gmail.com. Eto aho hanampy anao."}}};function showPopup(e){const n=document.getElementById("popup"),a=document.getElementById("popup-message"),t=document.getElementById("popup-title");n.classList.remove("hidden"),n.classList.remove("success","error"),t.classList.remove("success-title","error-title");const o=messagesPopup[e][currentLanguage];t.textContent=o.title,a.textContent=o.message,"success"===e?(n.classList.add("success"),t.classList.add("success-title")):"error"===e&&(n.classList.add("error"),t.classList.add("error-title"))}function closePopup(){document.getElementById("popup").classList.add("hidden"),document.getElementById("contact-form").reset()}document.getElementById("popup").addEventListener("click",(function(e){e.target===this&&closePopup()}));const translationsSendMail={fr:{loading:"Chargement",send:"Envoyer",change:"Changement"},en:{loading:"Loading",send:"Send",change:"Change"},de:{loading:"Laden",send:"Senden",change:"Änderung"},mg:{loading:"Fikarakarana",send:"Alefaso",change:"Fiovana"}},loadingButton=document.getElementById("loadingButton");let interval;function startLoading(){loadingButton.textContent=translationsSendMail[currentLanguage].loading;let e="";interval=setInterval((()=>{e+=".",e.length>3&&(e=""),loadingButton.textContent=`${translationsSendMail[currentLanguage].loading}${e}`}),500)}function stopLoading(){clearInterval(interval),loadingButton.textContent=translationsSendMail[currentLanguage].send}function envoyerEmailRemerciement(e){emailjs.send("service_qpb9jdf","template_d21iizp",e).then((function(e){console.log("Email de remerciement envoyé avec succès!",e.status,e.text)}),(function(e){console.log("Échec de l'envoi de l'email de remerciement...",e)}))}emailjs.init("zRrOScqfLj4K7IP74"),document.getElementById("contact-form").addEventListener("submit",(function(e){e.preventDefault();const n=document.getElementById("nom").value,a=document.getElementById("email").value,t=document.getElementById("telephone").value,o=document.getElementById("message").value;startLoading(),emailjs.send("service_qpb9jdf","template_wpthacc",{nom:n,email:a,telephone:t,message:o}).then((function(e){console.log("Email envoyé avec succès!",e.status),envoyerEmailRemerciement({nom:n,email:a,telephone:t,message:o}),showPopup("success"),stopLoading()}),(function(e){console.log("Erreur lors de l'envoi de l'e-mail",e),showPopup("error"),stopLoading()}))}));