const robot=document.getElementById("floating-robot"),containerAnimate=document.getElementById("robot-container"),robotExplosion=document.getElementById("robot-explosion");let lastScrollTop=0,isAnimating=!1,scrollTimeout,lastScrollTime=Date.now();const SCROLL_THRESHOLD=50,TIME_THRESHOLD=150;window.addEventListener("scroll",function(){var e=document.getElementById("stats"),t=document.getElementById("robot-container"),o=e.getBoundingClientRect().top+window.scrollY;window.scrollY+window.innerHeight>=o?t.classList.add("visible"):t.classList.remove("visible");let i=Date.now();i-lastScrollTime<150||(clearTimeout(scrollTimeout),scrollTimeout=setTimeout(()=>{let e=window.pageYOffset||document.documentElement.scrollTop;Math.abs(lastScrollTop-e)>50&&!isAnimating&&(isAnimating=!0,robot.classList.add("scroll-rotate"),setTimeout(()=>{robot.classList.remove("scroll-rotate"),setTimeout(()=>{isAnimating=!1},50)},700),lastScrollTop=e,lastScrollTime=i)},10))},{passive:!0}),document.querySelector(".close-button").addEventListener("click",function(){document.querySelector(".floating-container").style.display="none",robotExplosion.style.display="none"});const translationsGame={fr:{game:"\uD83E\uDD16 Hey ! Bienvenue l'ami(e) \uD83D\uDC4B Trouve mon mini-clone cach\xe9 sur le site. Si tu y arrives, pr\xe9pare-toi… \xe7a va faire BOUM ! \uD83D\uDCA5\uD83D\uDE01"},en:{game:"\uD83E\uDD16 Hey! Welcome, friend \uD83D\uDC4B Find my mini-clone hidden on the site. If you manage to spot it, get ready... it's going to go BOOM! \uD83D\uDCA5\uD83D\uDE01"},de:{game:"\uD83E\uDD16 Hey! Willkommen, mein Freund / meine Freundin \uD83D\uDC4B Finde meinen Mini-Klon, der auf der Website versteckt ist. Wenn du ihn entdeckst, mach dich bereit… es wird knallen! \uD83D\uDCA5\uD83D\uDE01"},mg:{game:"\uD83E\uDD16 Hey! Tonga soa ry namana \uD83D\uDC4B Tadiavo ny mini-clone-ako miafina ao amin'ny tranonkala. Raha mahita azy ianao, miom\xe0na tsara… hisy BOUM hitranga! \uD83D\uDCA5\uD83D\uDE01"}};function changeGameLang(){document.querySelector(".dialog-bubble").textContent=translationsGame[currentLanguage].game}const dialogBubble=document.createElement("div");dialogBubble.className="dialog-bubble",dialogBubble.innerHTML=`
    <div class="dialog-content">
        `+translationsGame[currentLanguage].game+`
    </div>
`,containerAnimate.appendChild(dialogBubble);let isGlitching=!1;robot.addEventListener("click",e=>{console.log("click enter"),e.stopPropagation(),isGlitching||(robot.classList.add("glitch"),isGlitching=!0),dialogBubble.style.display="block"}),document.addEventListener("click",e=>{container.contains(e.target)||e.target.closest(".right")||(robot.classList.remove("glitch"),isGlitching=!1,dialogBubble.style.display="none")}),robotExplosion.addEventListener("click",e=>{robotExplosion.style.display="none",document.body.style.backgroundImage="url('./assets/images/confetti.gif')",setTimeout(()=>{robot.src="./assets/images/boom.gif"},1e3),setTimeout(()=>{document.body.style.backgroundImage=""},1800),setTimeout(()=>{document.querySelector(".close-button").click()},4e3)});