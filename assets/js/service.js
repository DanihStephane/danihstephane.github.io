document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".service-card");function t(e){if(!e.currentTarget.classList.contains("visible"))return;let t=e.currentTarget,r=t.getBoundingClientRect(),i=e.clientX-r.left,s=e.clientY-r.top,n=r.width/2,o=r.height/2,a=(s-o)/10,l=-(i-n)/10;requestAnimationFrame(()=>{t.style.transform=`perspective(1000px) rotateX(${a}deg) rotateY(${l}deg) scale3d(1.05, 1.05, 1.05)`});let c=i/r.width,$=s/r.height;t.style.setProperty("--mouse-x",`${100*c}%`),t.style.setProperty("--mouse-y",`${100*$}%`)}function r(e){if(!e.currentTarget.classList.contains("visible"))return;let t=e.currentTarget;requestAnimationFrame(()=>{t.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}e.forEach(e=>{e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r)});let i={root:null,rootMargin:"0px 0px -10% 0px",threshold:.05},s=new IntersectionObserver((e,t)=>{e.forEach((e,t)=>{e.isIntersecting?setTimeout(()=>{e.target.classList.add("visible")},50*t):e.target.classList.remove("visible")})},i);e.forEach(e=>{s.observe(e)}),e.forEach((e,t)=>{let r=e.getBoundingClientRect(),i=r.top<=(window.innerHeight||document.documentElement.clientHeight)&&r.bottom>=0;i&&setTimeout(()=>{e.classList.add("visible")},50*t)});let n=!1;window.addEventListener("scroll",function(){n||(window.requestAnimationFrame(function(){n=!1}),n=!0)}),window.resetCardAnimation=function(){e.forEach(e=>{e.classList.remove("visible")}),e[0].offsetWidth,setTimeout(()=>{e.forEach((e,t)=>{setTimeout(()=>{e.classList.add("visible")},50*t)})},100)},window.innerWidth<=768&&(i.rootMargin="0px 0px -5% 0px",i.threshold=.01)});